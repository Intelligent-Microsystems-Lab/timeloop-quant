compound_components:
  version: 0.3
  classes:
  - name: bus
    attributes:
      technology: 40nm
      n_PE_rows: 1
      n_PE_cols: 8
      total_PEs: n_PE_cols * n_PE_rows
      datawidth: 8
      Y_X_wire_avg_length: 2mm

    subcomponents:
      - name: Y_X_wire-weight[1..8]
        class: wire
        attributes:
          technology: 32nm
          datawidth: 1
          length: Y_X_wire_avg_length
          latency: 1ns
      - name: Y_X_wire-input[1..1]
        class: wire
        attributes:
          technology: 32nm
          datawidth: 1
          length: Y_X_wire_avg_length
          latency: 1ns
      - name: Y_X_wire-output[1..16]
        class: wire
        attributes:
          technology: 32nm
          datawidth: 1
          length: Y_X_wire_avg_length
          latency: 1ns             
    actions:
      - name: transfer_Weights
        arguments:
          n_rows: 1..n_PE_rows
          n_cols_per_row: 1..n_PE_cols    
        subcomponents:
          - name: Y_X_wire-weight[1..datawidth]
            actions:
            - name: transfer_random
      - name: transfer_Inputs
        arguments:
          n_rows: 1..n_PE_rows
          n_cols_per_row: 1..n_PE_cols    
        subcomponents:
          - name: Y_X_wire-input[1..1]
            actions:
            - name: transfer_random            
      - name: transfer_Outputs
        arguments:
          n_rows: 1..n_PE_rows
          n_cols_per_row: 1..n_PE_cols    
        subcomponents:
          - name: Y_X_wire-output[1..16]
            actions:
            - name: transfer_random           