architecture:
  version: 0.4

  subtree:
    - name: system
      attributes:
        technology: "45nm"
      local:
      - name: BackingStorage
        class: storage
        subclass: smartbuffer_metadata
        attributes:
          technology: "45nm"
          data_storage_depth: 8196
          data_storage_width: 64
          block_size: 64
          datawidth: 8
          n_banks: 4
          # read_bandwidth: 16
          # write_bandwidth: 16
          metadata_storage_depth: 8196
          metadata_storage_width: 60
          metadata_block_size: 12
          metadata_datawidth: 5
          metadata_counter_width: 4
          decompression_supported: true  # from DRAM decompression
          compression_supported: true    # to DRAM compression
          meshX: 1
          writes: True
          reads: True 

      subtree:
      - name: PE
        local:
        - name: Buffer
          class: storage
          subclass: smartbuffer_metadata
          attributes:
            technology: "45nm"
            data_storage_depth: 128
            data_storage_width: 64
            block_size: 64
            datawidth: 8
            n_banks: 4
            # read_bandwidth: 16
            # write_bandwidth: 16
            metadata_storage_depth: 128
            metadata_storage_width: 60
            metadata_block_size: 12
            metadata_datawidth: 5
            metadata_counter_width: 4
            decompression_supported: true  # from DRAM decompression
            compression_supported: true    # to DRAM compression
            meshX: 1
            writes: True
            reads: True 
        - name: MACC
          class: intmac
          attributes:
            datawidth: 8
